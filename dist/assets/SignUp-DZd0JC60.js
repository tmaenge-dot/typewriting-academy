import{j as e,aK as O,J as R,O as J,b as x,a as n,a6 as M,a7 as d,aJ as o,P,aq as V,I as C,a1 as S,a2 as I,aI as N,aC as Y,aD as $,aE as z,e as G,G as T,aP as K,aO as j,aQ as Q,i as U,l as H}from"./mui-BrjAW4d2.js";import{u as X,r as c}from"./vendor-CMIq9IGj.js";import{a as Z}from"./index-BgCIXPuD.js";const re=()=>{const h=X(),{register:A,isAuthenticated:v}=Z();c.useEffect(()=>{v&&h("/",{replace:!0})},[v,h]);const[t,y]=c.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",studentLevel:"",institution:"",agreeToTerms:!1}),[f,L]=c.useState(!1),[p,q]=c.useState(!1),[s,m]=c.useState({}),[b,w]=c.useState(!1),k=["National Certificate in Secretarial Studies - Level 1","National Certificate in Secretarial Studies - Level 2","National Certificate in Secretarial Studies - Level 3","Diploma in Secretarial Studies","Other Professional Course","Self-Study"],i=r=>{const{name:a,value:l,type:u,checked:D}=r.target;y(g=>({...g,[a]:u==="checkbox"?D:l})),s[a]&&m(g=>({...g,[a]:""}))},W=r=>{const{name:a,value:l}=r.target;y(u=>({...u,[a]:l})),s[a]&&m(u=>({...u,[a]:""}))},E=()=>{const r={};return t.firstName.trim()||(r.firstName="First name is required"),t.lastName.trim()||(r.lastName="Last name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(r.email="Please enter a valid email address"):r.email="Email is required",t.password?t.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",t.studentLevel||(r.studentLevel="Please select your study level"),t.institution.trim()||(r.institution="Institution/College name is required"),t.agreeToTerms||(r.agreeToTerms="You must agree to the terms and conditions"),m(r),Object.keys(r).length===0},B=async r=>{if(r.preventDefault(),!!E()){w(!0);try{const a=`${t.firstName} ${t.lastName}`,l=await A(t.email,t.password,a);l.success?(sessionStorage.setItem("loginSuccess","true"),sessionStorage.setItem("loginMessage","Account created successfully! Welcome to the platform."),h("/",{replace:!0})):m({submit:l.error||"Registration failed. Please try again."})}catch{m({submit:"Registration failed. Please try again."})}finally{w(!1)}}},F=()=>{h("/sign-in")};return e.jsx(O,{maxWidth:"md",sx:{mt:4,mb:4},children:e.jsx(R,{elevation:3,children:e.jsxs(J,{sx:{p:4},children:[e.jsxs(x,{sx:{textAlign:"center",mb:4},children:[e.jsx(n,{variant:"h4",component:"h1",gutterBottom:!0,color:"primary",children:"Create Your Account"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Join the Information Processing & Typewriting Learning Platform"})]}),s.submit&&e.jsx(M,{severity:"error",sx:{mb:3},children:s.submit}),e.jsxs(x,{component:"form",onSubmit:B,children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{mt:2,mb:2},children:"Personal Information"}),e.jsxs(x,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(d,{fullWidth:!0,name:"firstName",label:"First Name",value:t.firstName,onChange:i,error:!!s.firstName,helperText:s.firstName,required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(P,{color:"action"})})}}),e.jsx(d,{fullWidth:!0,name:"lastName",label:"Last Name",value:t.lastName,onChange:i,error:!!s.lastName,helperText:s.lastName,required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(P,{color:"action"})})}})]}),e.jsx(d,{fullWidth:!0,name:"email",label:"Email Address",type:"email",value:t.email,onChange:i,error:!!s.email,helperText:s.email,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(V,{color:"action"})})}}),e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{mt:3,mb:2},children:"Security"}),e.jsx(d,{fullWidth:!0,name:"password",label:"Password",type:f?"text":"password",value:t.password,onChange:i,error:!!s.password,helperText:s.password,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(N,{color:"action"})}),endAdornment:e.jsx(o,{position:"end",children:e.jsx(C,{onClick:()=>L(!f),edge:"end",children:f?e.jsx(S,{}):e.jsx(I,{})})})}}),e.jsx(d,{fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:p?"text":"password",value:t.confirmPassword,onChange:i,error:!!s.confirmPassword,helperText:s.confirmPassword,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(N,{color:"action"})}),endAdornment:e.jsx(o,{position:"end",children:e.jsx(C,{onClick:()=>q(!p),edge:"end",children:p?e.jsx(S,{}):e.jsx(I,{})})})}}),e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{mt:3,mb:2},children:"Academic Information"}),e.jsxs(Y,{fullWidth:!0,margin:"normal",error:!!s.studentLevel,children:[e.jsx($,{children:"Study Level *"}),e.jsx(z,{name:"studentLevel",value:t.studentLevel,onChange:W,label:"Study Level *",startAdornment:e.jsx(o,{position:"start",children:e.jsx(T,{color:"action"})}),children:k.map(r=>e.jsx(G,{value:r,children:r},r))}),s.studentLevel&&e.jsx(n,{variant:"caption",color:"error",sx:{mt:.5,ml:1.5},children:s.studentLevel})]}),e.jsx(d,{fullWidth:!0,name:"institution",label:"Institution/College Name",value:t.institution,onChange:i,error:!!s.institution,helperText:s.institution,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(o,{position:"start",children:e.jsx(T,{color:"action"})})}}),e.jsx(K,{control:e.jsx(Q,{name:"agreeToTerms",checked:t.agreeToTerms,onChange:i,color:"primary"}),label:e.jsxs(n,{variant:"body2",children:["I agree to the"," ",e.jsx(j,{href:"#",color:"primary",children:"Terms and Conditions"})," ","and"," ",e.jsx(j,{href:"#",color:"primary",children:"Privacy Policy"})]}),sx:{mt:2}}),s.agreeToTerms&&e.jsx(n,{variant:"caption",color:"error",display:"block",sx:{ml:4},children:s.agreeToTerms}),e.jsx(U,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:b,startIcon:e.jsx(H,{}),sx:{mt:3,mb:2,py:1.5},children:b?"Creating Account...":"Create Account"}),e.jsx(x,{sx:{textAlign:"center",mt:3},children:e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",e.jsx(j,{component:"button",variant:"body2",onClick:F,sx:{textDecoration:"none",fontWeight:"medium"},children:"Sign In"})]})})]})]})})})};export{re as default};
